#!/bin/sh
makers="gmake make"
whichers="/usr/bin/env /usr/bin/which"
for w in $whichers; do
	if test -e "$w"; then
		whicher="$w"
	fi
done

does_exist() {
	if test -z "$1"; then
		return 1
	fi

	if "$whicher" "$1" > /dev/null 2>&1; then
		return 0
	else
		return 1
	fi
}

# Figure out which make program to use
for m in $makers; do
	if does_exist "$m"; then
		MAKE="$m"
	fi
done

# Figure out which OS this is
OS=`uname`

# Platform specific overrides go below here

# Write out the config file
echo "MAKE=$MAKE" > config.mk
echo "OS=$OS" >> config.mk
